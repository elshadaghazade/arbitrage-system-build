(this["webpackJsonparbitrage-react-app"]=this["webpackJsonparbitrage-react-app"]||[]).push([[88],{1487:function(e,a,t){"use strict";var n=t(1),l=t(5),r=t(0),c=t.n(r),i=(t(2),t(3)),o=t(11),s=c.a.forwardRef((function(e,a){var t=e.classes,r=e.className,o=e.dividers,s=void 0!==o&&o,m=Object(l.a)(e,["classes","className","dividers"]);return c.a.createElement("div",Object(n.a)({className:Object(i.default)(t.root,r,s&&t.dividers),ref:a},m))}));a.a=Object(o.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},1498:function(e,a,t){"use strict";var n=t(1),l=t(5),r=t(0),c=t.n(r),i=(t(2),t(3)),o=t(11),s=c.a.forwardRef((function(e,a){var t=e.disableSpacing,r=void 0!==t&&t,o=e.classes,s=e.className,m=Object(l.a)(e,["disableSpacing","classes","className"]);return c.a.createElement("div",Object(n.a)({className:Object(i.default)(o.root,s,!r&&o.spacing),ref:a},m))}));a.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},1760:function(e,a){e.exports=s,e.exports.parse=n,e.exports.compile=function(e,a){return l(n(e,a),a)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=o;var t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function n(e,a){for(var n,l=[],i=0,o=0,s="",m=a&&a.delimiter||"/",u=a&&a.whitelist||void 0,d=!1;null!==(n=t.exec(e));){var p=n[0],f=n[1],E=n.index;if(s+=e.slice(o,E),o=E+p.length,f)s+=f[1],d=!0;else{var b="",h=n[2],v=n[3],g=n[4],y=n[5];if(!d&&s.length){var x=s.length-1,j=s[x];(!u||u.indexOf(j)>-1)&&(b=j,s=s.slice(0,x))}s&&(l.push(s),s="",d=!1);var A="+"===y||"*"===y,O="?"===y||"*"===y,N=v||g,L=b||m;l.push({name:h||i++,prefix:b,delimiter:L,optional:O,repeat:A,pattern:N?c(N):"[^"+r(L===m?L:L+m)+"]+?"})}}return(s||o<e.length)&&l.push(s+e.substr(o)),l}function l(e,a){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$",i(a)));return function(a,n){for(var l="",r=n&&n.encode||encodeURIComponent,c=!n||!1!==n.validate,i=0;i<e.length;i++){var o=e[i];if("string"!==typeof o){var s,m=a?a[o.name]:void 0;if(Array.isArray(m)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===m.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<m.length;u++){if(s=r(m[u],o),c&&!t[i].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');l+=(0===u?o.prefix:o.delimiter)+s}}else if("string"!==typeof m&&"number"!==typeof m&&"boolean"!==typeof m){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"))}else{if(s=r(String(m),o),c&&!t[i].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+s+'"');l+=o.prefix+s}}else l+=o}return l}}function r(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$/()])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function o(e,a,t){for(var n=(t=t||{}).strict,l=!1!==t.start,c=!1!==t.end,o=t.delimiter||"/",s=[].concat(t.endsWith||[]).map(r).concat("$").join("|"),m=l?"^":"",u=0;u<e.length;u++){var d=e[u];if("string"===typeof d)m+=r(d);else{var p=d.repeat?"(?:"+d.pattern+")(?:"+r(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;a&&a.push(d),d.optional?d.prefix?m+="(?:"+r(d.prefix)+"("+p+"))?":m+="("+p+")?":m+=r(d.prefix)+"("+p+")"}}if(c)n||(m+="(?:"+r(o)+")?"),m+="$"===s?"$":"(?="+s+")";else{var f=e[e.length-1],E="string"===typeof f?f[f.length-1]===o:void 0===f;n||(m+="(?:"+r(o)+"(?="+s+"))?"),E||(m+="(?="+r(o)+"|"+s+")")}return new RegExp(m,i(t))}function s(e,a,t){return e instanceof RegExp?function(e,a){if(!a)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)a.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,a):Array.isArray(e)?function(e,a,t){for(var n=[],l=0;l<e.length;l++)n.push(s(e[l],a,t).source);return new RegExp("(?:"+n.join("|")+")",i(t))}(e,a,t):function(e,a,t){return o(n(e,t),a,t)}(e,a,t)}},2807:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(15),c=t(6),i=t(247),o=t(18),s=t(201),m=t(1267),u=t(107),d=t(53),p=t.n(d),f="[MAIL APP] GET MAILS";function E(){return function(e,a){var t=a().mailApp.mails.routeParams;return p.a.get("/api/mail-app/mails",{params:t}).then((function(a){return e({type:"[MAIL APP] UPDATE MAILS",payload:a.data})}))}}function b(e,a){return{type:"[MAILS] SELECT MAILS BY PARAMETER",payload:{parameter:e,value:a}}}function h(e){return function(a,t){var n=t().mailApp.mails.selectedMailIds;return p.a.post("/api/mail-app/set-folder",{selectedMailIds:n,folderId:e}).then((function(e){return a({type:"[MAILS] SET FOLDER ON SELECTED MAILS"}),a(E())}))}}var v=t(9),g="[MAIL APP] UPDATE MAIL";function y(e){var a=p.a.post("/api/mail-app/update-mail",e);return function(e){return a.then((function(a){return e({type:g,payload:a.data})}))}}var x="[MAIL APP] GET FOLDERS";var j="[MAIL APP] GET LABELS";var A="[MAIL APP] GET FILTERS";var O=t(1268),N=t(1318),L=t(1343),S=t(1275),I=t(3),C=t(10),M=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var T=function(e){var a=M();return l.a.createElement("div",{className:Object(I.default)(a.root,e.className)},l.a.createElement("div",{className:a.color,style:{backgroundColor:e.color}}),l.a.createElement("div",null,e.title))},w=t(1760),k=Object(S.a)((function(e){return{mailItem:{borderBottom:"1px solid  "+e.palette.divider,"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}})),P=Object(u.h)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(c.d)((function(e){return e.mailApp.labels})),r=k(e),i=w.compile(e.match.path),o=t.length>0&&void 0!==t.find((function(a){return a===e.mail.id}));return l.a.createElement(O.a,{dense:!0,button:!0,onClick:function(){return e.history.push(i(Object(v.a)({},e.match.params,{mailId:e.mail.id})))},className:Object(I.default)(r.mailItem,o&&"selected",!e.mail.read&&"unread","py-16 px-8")},l.a.createElement(N.a,{tabIndex:-1,disableRipple:!0,checked:o,onChange:function(){return a({type:"[MAILS] TOGGLE IN SELECTED MAILS",mailId:e.mail.id})},onClick:function(e){return e.stopPropagation()}}),l.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},l.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},l.a.createElement("div",{className:"flex items-center"},e.mail.from.avatar?l.a.createElement(L.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):l.a.createElement(L.a,{className:r.avatar},e.mail.from.name[0]),l.a.createElement(s.a,{variant:"subtitle1",className:"mx-8"},e.mail.from.name)),l.a.createElement(s.a,{variant:"subtitle1"},e.mail.time)),l.a.createElement("div",{className:"flex flex-col px-16 py-0"},l.a.createElement(s.a,{className:"truncate"},e.mail.subject),l.a.createElement(s.a,{color:"textSecondary",className:"truncate"},C.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),l.a.createElement("div",{className:"flex justify-end px-12"},n&&e.mail.labels.map((function(e){return l.a.createElement(T,{className:"mx-2 mt-4",title:C.a.find(n,{id:e}).title,color:C.a.find(n,{id:e}).color,key:e})})))))})),R=t(68);var D=Object(u.h)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.entities})),i=Object(c.d)((function(e){return e.mailApp.mails.searchText})),u=Object(n.useState)(null),d=Object(o.a)(u,2),E=d[0],b=d[1],h=Object(R.b)("mailApp").t;return Object(n.useEffect)((function(){a(function(e){var a=p.a.get("/api/mail-app/mails",{params:e});return function(t){return a.then((function(a){return t({type:f,routeParams:e,payload:a.data})}))}}(e.match.params))}),[a,e.match.params]),Object(n.useEffect)((function(){t&&b(function(){var e=Object.keys(t).map((function(e){return t[e]}));return 0===i.length?e:r.C.filterArrayByString(e,i)}())}),[t,i]),E?0===E.length?l.a.createElement(r.d,{delay:100},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},l.a.createElement(s.a,{color:"textSecondary",variant:"h5"},h("NO_MESSAGES")))):l.a.createElement(m.a,{className:"p-0"},l.a.createElement(r.e,{enter:{animation:"transition.slideUpBigIn"}},E.map((function(e){return l.a.createElement(P,{mail:e,key:e.id})})))):null})),G=t(1331),B=t(658),U=t(1309);var _=Object(u.h)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mail})),i=Object(c.d)((function(e){return e.mailApp.labels})),m=Object(n.useState)(!1),u=Object(o.a)(m,2),d=u[0],f=u[1];return Object(n.useEffect)((function(){a(function(e){var a=p.a.get("/api/mail-app/mail",{params:e});return function(t){return a.then((function(a){return t({type:"[MAIL APP] GET MAIL",routeParams:e,payload:a.data})}))}}(e.match.params))}),[a,e.match.params]),t?l.a.createElement("div",{className:"p-16 sm:p-24"},l.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement(r.d,{delay:100},l.a.createElement(s.a,{variant:"subtitle1",className:"flex"},t.subject)),i&&t.labels.length>0&&l.a.createElement("div",{className:"flex flex-wrap mt-8 -mx-2"},t.labels.map((function(e){return l.a.createElement(T,{className:"mt-4 mx-2",title:C.a.find(i,{id:e}).title,color:C.a.find(i,{id:e}).color,key:e})}))))),l.a.createElement(G.a,{className:"my-16"}),l.a.createElement(r.d,{animation:"transition.slideUpIn",delay:200},l.a.createElement("div",null,l.a.createElement("div",{className:"flex items-start justify-between"},l.a.createElement("div",{className:"flex items-center justify-start"},t.from.avatar?l.a.createElement(L.a,{alt:t.from.name,src:t.from.avatar}):l.a.createElement(L.a,null,t.from.name[0]),l.a.createElement("div",{className:"flex flex-col mx-8"},l.a.createElement("span",null,t.from.name),l.a.createElement(s.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},l.a.createElement("div",null,"to"),l.a.createElement("div",{className:"mx-4"},t.to[0].name)))),l.a.createElement(B.a,null,l.a.createElement(U.a,null,"more_vert"))),l.a.createElement("div",{className:"my-16"},l.a.createElement(s.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){f(!d)}},d?l.a.createElement("span",null,"Hide Details"):l.a.createElement("span",null,"Show Details")),d&&l.a.createElement("div",{className:"flex"},l.a.createElement(s.a,{variant:"body2",className:"flex flex-col"},l.a.createElement("span",null,"From:"),l.a.createElement("span",null,"To:"),l.a.createElement("span",null,"Date:")),l.a.createElement(s.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col"},l.a.createElement("span",null,t.from.email),l.a.createElement("span",null,t.to[0].email),l.a.createElement("span",null,t.time)))),l.a.createElement(s.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.message}}),l.a.createElement(G.a,{className:"my-16"}),t.attachments&&l.a.createElement("div",null,l.a.createElement(s.a,{variant:"subtitle1",className:"mb-16"},l.a.createElement("span",{className:"mx-4"},"Attachments"),l.a.createElement("span",null,"(",t.attachments.length,")")),l.a.createElement("div",{className:"flex flex-wrap -mx-8"},t.attachments.map((function(e){return l.a.createElement("div",{className:"w-192 px-8 pb-16",key:e.fileName},l.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement(s.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),l.a.createElement(s.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),l.a.createElement(s.a,null,"(",e.size,")")))}))))))):null})),W=t(31),z=t(441),F=t(1310);var $=function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),r=Object(c.d)((function(e){return e.mailApp.mails.entities})),i=Object(c.d)((function(e){return e.mailApp.labels})),s=Object(c.d)((function(e){return e.mailApp.folders})),m=Object(n.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),u=Object(o.a)(m,2),d=u[0],f=u[1];function g(e,a){f(Object(v.a)({},a,Object(W.a)({},a,e.currentTarget)))}function y(e,a){f(Object(v.a)({},a,Object(W.a)({},a,null)))}return l.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},l.a.createElement(N.a,{onChange:function(e){e.target.checked?a({type:"[MAILS] SELECT ALL MAILS"}):a({type:"[MAILS] DESELECT ALL MAILS"})},checked:t.length===Object.keys(r).length&&t.length>0,indeterminate:t.length!==Object.keys(r).length&&t.length>0}),l.a.createElement(B.a,{className:"",size:"small","aria-label":"More","aria-owns":d.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return g(e,"select")}},l.a.createElement(U.a,null,"arrow_drop_down")),l.a.createElement(z.a,{id:"select-menu",anchorEl:d.select,open:Boolean(d.select),onClose:function(e){return y(0,"select")}},l.a.createElement(F.a,{onClick:function(e){a({type:"[MAILS] SELECT ALL MAILS"}),y(0,"select")}},"All"),l.a.createElement(F.a,{onClick:function(e){a({type:"[MAILS] DESELECT ALL MAILS"}),y(0,"select")}},"None"),l.a.createElement(F.a,{onClick:function(e){a(b("read",!0)),y(0,"select")}},"Read"),l.a.createElement(F.a,{onClick:function(e){a(b("read",!1)),y(0,"select")}},"Unread"),l.a.createElement(F.a,{onClick:function(e){a(b("starred",!0)),y(0,"select")}},"Starred"),l.a.createElement(F.a,{onClick:function(e){a(b("starred",!1)),y(0,"select")}},"Unstarred"),l.a.createElement(F.a,{onClick:function(e){a(b("important",!0)),y(0,"select")}},"Important"),l.a.createElement(F.a,{onClick:function(e){a(b("important",!1)),y(0,"select")}},"Unimportant")),t.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),l.a.createElement(B.a,{onClick:function(e){return a(h(4))},"aria-label":"Delete"},l.a.createElement(U.a,null,"delete")),l.a.createElement(B.a,{"aria-label":"More","aria-owns":d.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return g(e,"folders")}},l.a.createElement(U.a,null,"folder")),l.a.createElement(z.a,{id:"folders-menu",anchorEl:d.folders,open:Boolean(d.folders),onClose:function(e){return y(0,"folders")}},s.length>0&&s.map((function(e){return l.a.createElement(F.a,{onClick:function(t){a(h(e.id)),y(0,"folders")},key:e.id},e.title)}))),l.a.createElement(B.a,{"aria-label":"More","aria-owns":d.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return g(e,"labels")}},l.a.createElement(U.a,null,"label")),l.a.createElement(z.a,{id:"folders-menu",anchorEl:d.labels,open:Boolean(d.labels),onClose:function(e){return y(0,"labels")}},i.length>0&&i.map((function(e){return l.a.createElement(F.a,{onClick:function(t){var n;a((n=e.id,function(e,a){var t=a().mailApp.mails.selectedMailIds;return p.a.post("/api/mail-app/toggle-label",{selectedMailIds:t,labelId:n}).then((function(a){return e({type:"[MAILS] TOGGLE LABEL ON SELECTED MAILS"}),e(E())}))})),y(0,"labels")},key:e.id},e.title)})))))},H=t(244),Y=t(1760);var J=Object(u.h)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mail})),n=Object(H.a)(),i=Y.compile(e.match.path),o=Object(v.a)({},e.match.params);delete o.mailId;var s=i(o);return t?l.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},l.a.createElement(B.a,{onClick:function(){return e.history.push(s)}},l.a.createElement(U.a,null,"ltr"===n.direction?"arrow_back":"arrow_forward")),l.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},l.a.createElement(r.d,{animation:"transition.expandIn",delay:100},l.a.createElement(B.a,{onClick:function(){return a(function(e){var a=Object(v.a)({},e,{starred:!e.starred});return function(e){return e({type:"[MAIL APP] TOGGLE STAR MAIL"}),e(y(a))}}(t))}},t.starred?l.a.createElement(U.a,null,"star"):l.a.createElement(U.a,null,"star_border"))),l.a.createElement(r.d,{animation:"transition.expandIn",delay:100},l.a.createElement(B.a,{onClick:function(){return a(function(e){var a=Object(v.a)({},e,{important:!e.important});return function(e){return e({type:"[MAIL APP] TOGGLE IMPORTANT MAIL"}),e(y(a))}}(t))}},t.important?l.a.createElement(U.a,null,"label"):l.a.createElement(U.a,null,"label_outline"))))):null})),V=t(202),X=t(1319),q=t(442),K=t(1327);var Q=function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.searchText})),n=Object(c.d)((function(e){return e.fuse.settings.mainTheme})),r=Object(R.b)("mailApp").t;return l.a.createElement(K.a,{theme:n},l.a.createElement("div",{className:"flex flex-1"},l.a.createElement(V.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8",elevation:1},l.a.createElement(X.a,{lgUp:!0},l.a.createElement(B.a,{onClick:function(a){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},l.a.createElement(U.a,null,"menu"))),l.a.createElement(U.a,{color:"action"},"search"),l.a.createElement(q.a,{placeholder:r("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a({type:"[MAILS] SET SEARCH TEXT",searchText:e.target.value.toLowerCase()})}}))))},Z=t(1314),ee={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var ae=function(e){var a=Object(n.useState)("creapond"),t=Object(o.a)(a,2),c=t[0],i=t[1],s=Object(R.b)("mailApp").t;return l.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},l.a.createElement("div",{className:"flex items-center flex-1"},l.a.createElement(r.d,{animation:"transition.expandIn",delay:300},l.a.createElement(U.a,{className:"text-32"},"mail")),l.a.createElement(r.d,{animation:"transition.slideLeftIn",delay:300},l.a.createElement("span",{className:"text-24 mx-16"},s("APP_TITLE")))),l.a.createElement(r.d,{animation:"transition.slideUpIn",delay:300},l.a.createElement(Z.a,{id:"account-selection",select:!0,label:c,value:c,onChange:function(e){i(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys(ee).map((function(e,a){return l.a.createElement(F.a,{key:e,value:e},ee[e])})))))},te=t(1328),ne=t(1311),le=t(1316),re=t(1337),ce=t(1334),ie=t(1317),oe=t(1487),se=t(1498),me=t(185),ue=Object(S.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var de=function(e){var a=ue();return l.a.createElement("div",{className:Object(I.default)(a.root,e.className)},l.a.createElement("div",{className:"flex"},l.a.createElement(s.a,{variant:"caption",className:a.filename},e.fileName),l.a.createElement(s.a,{variant:"caption",className:a.size},"(",e.size,")")),l.a.createElement(B.a,null,l.a.createElement(U.a,{className:"text-16"},"close")))};var pe=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(me.b)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),i=c.form,m=c.handleChange,u=Object(R.b)("mailApp").t;return l.a.createElement("div",{className:"p-24"},l.a.createElement(le.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){r(!0)}},u("COMPOSE")),l.a.createElement(re.a,{open:t,onClose:function(){r(!1)},"aria-labelledby":"form-dialog-title"},l.a.createElement(ce.a,{position:"static"},l.a.createElement(ie.a,{className:"flex w-full"},l.a.createElement(s.a,{variant:"subtitle1",color:"inherit"},"New Message"))),l.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),r(!1)},className:"flex flex-col"},l.a.createElement(oe.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},l.a.createElement(Z.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:i.from,onChange:m,variant:"outlined",fullWidth:!0,disabled:!0}),l.a.createElement(Z.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:i.to,onChange:m,variant:"outlined",fullWidth:!0,required:!0}),l.a.createElement(Z.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:i.cc,onChange:m,variant:"outlined",fullWidth:!0}),l.a.createElement(Z.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:i.bcc,onChange:m,variant:"outlined",fullWidth:!0}),l.a.createElement(Z.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:i.subject,onChange:m,variant:"outlined",fullWidth:!0}),l.a.createElement(Z.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:m,value:i.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),l.a.createElement("div",{className:"pt-8"},l.a.createElement(de,{fileName:"attachment-2.doc",size:"12 kb"}),l.a.createElement(de,{fileName:"attachment-1.jpg",size:"350 kb"}))),l.a.createElement(se.a,{className:"justify-between p-8"},l.a.createElement("div",{className:"px-16"},l.a.createElement(le.a,{variant:"contained",color:"primary",type:"submit"},"Send"),l.a.createElement(B.a,null,l.a.createElement(U.a,null,"attach_file"))),l.a.createElement(B.a,{onClick:function(){r(!1)}},l.a.createElement(U.a,null,"delete"))))))},fe=Object(S.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var Ee=function(e){var a=Object(c.d)((function(e){return e.mailApp.folders})),t=Object(c.d)((function(e){return e.mailApp.labels})),n=Object(c.d)((function(e){return e.mailApp.filters})),i=fe(),o=Object(R.b)("mailApp").t;return l.a.createElement(r.d,{animation:"transition.slideUpIn",delay:400},l.a.createElement("div",{className:"flex-auto border-l-1"},l.a.createElement(pe,null),l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(te.a,{className:i.listSubheader,disableSticky:!0},o("FOLDERS")),a.length>0&&a.map((function(e){return l.a.createElement(O.a,{button:!0,component:r.D,to:"/apps/mail/"+e.handle,key:e.id,activeClassName:"active",className:i.listItem},l.a.createElement(U.a,{className:"list-item-icon",color:"action"},e.icon),l.a.createElement(ne.a,{primary:e.translate?o(e.translate):e.title,disableTypography:!0}))}))),l.a.createElement(m.a,null,l.a.createElement(te.a,{className:i.listSubheader,disableSticky:!0},o("FILTERS")),n.length>0&&n.map((function(e){return l.a.createElement(O.a,{button:!0,component:r.D,to:"/apps/mail/filter/"+e.handle,activeClassName:"active",className:i.listItem,key:e.id},l.a.createElement(U.a,{className:"list-item-icon",color:"action"},e.icon),l.a.createElement(ne.a,{primary:e.translate?o(e.translate):e.title,disableTypography:!0}))}))),l.a.createElement(m.a,null,l.a.createElement(te.a,{className:i.listSubheader,disableSticky:!0},o("LABELS")),t&&t.map((function(e){return l.a.createElement(O.a,{button:!0,component:r.D,to:"/apps/mail/label/"+e.handle,key:e.id,className:i.listItem},l.a.createElement(U.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),l.a.createElement(ne.a,{primary:e.title,disableTypography:!0}))}))))))},be=t(64),he=t(13),ve={entities:[],routeParams:{},selectedMailIds:[],searchText:""},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return Object(v.a)({},e,{entities:C.a.keyBy(a.payload,"id"),searchText:"",routeParams:a.routeParams});case"[MAIL APP] UPDATE MAILS":return Object(v.a)({},e,{entities:C.a.keyBy(a.payload,"id")});case"[MAILS] SELECT ALL MAILS":var t=Object.keys(e.entities).map((function(a){return e.entities[a]})),n=t.map((function(e){return e.id}));return Object(v.a)({},e,{selectedMailIds:n});case"[MAILS] DESELECT ALL MAILS":return Object(v.a)({},e,{selectedMailIds:[]});case"[MAILS] SELECT MAILS BY PARAMETER":var l=a.payload,r=Object.keys(e.entities).map((function(a){return e.entities[a]})),c=r.filter((function(e){return e[l.parameter]===l.value})).map((function(e){return e.id}));return Object(v.a)({},e,{selectedMailIds:c});case"[MAILS] TOGGLE IN SELECTED MAILS":var i=a.mailId,o=Object(he.a)(e.selectedMailIds);return o=void 0!==o.find((function(e){return e===i}))?o.filter((function(e){return e!==i})):[].concat(Object(he.a)(o),[i]),Object(v.a)({},e,{selectedMailIds:o});case"[MAILS] SET SEARCH TEXT":return Object(v.a)({},e,{searchText:a.searchText});default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"[MAIL APP] GET MAIL":case g:return Object(v.a)({},a.payload);default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(he.a)(a.payload);default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case j:return Object(he.a)(a.payload);default:return e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case A:return Object(he.a)(a.payload);default:return e}},Oe=Object(be.d)({mails:ge,mail:ye,folders:xe,labels:je,filters:Ae});a.default=Object(i.a)("mailApp",Oe)((function(e){var a=Object(c.c)(),t=Object(n.useRef)(null);return Object(n.useEffect)((function(){a(function(){var e=p.a.get("/api/mail-app/filters");return function(a){return e.then((function(e){return a({type:A,payload:e.data})}))}}()),a(function(){var e=p.a.get("/api/mail-app/folders");return function(a){return e.then((function(e){return a({type:x,payload:e.data})}))}}()),a(function(){var e=p.a.get("/api/mail-app/labels");return function(a){return e.then((function(e){return a({type:j,payload:e.data})}))}}())}),[a]),l.a.createElement(r.s,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l.a.createElement(Q,{pageLayout:t}),contentToolbar:e.match.params.mailId?l.a.createElement(J,null):l.a.createElement($,null),content:e.match.params.mailId?l.a.createElement(_,null):l.a.createElement(D,null),leftSidebarHeader:l.a.createElement(ae,null),leftSidebarContent:l.a.createElement(Ee,null),ref:t,innerScroll:!0})}))}}]);