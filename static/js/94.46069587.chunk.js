(this["webpackJsonparbitrage-react-app"]=this["webpackJsonparbitrage-react-app"]||[]).push([[94],{1487:function(e,a,t){"use strict";var n=t(1),c=t(5),r=t(0),l=t.n(r),o=(t(2),t(3)),i=t(11),s=l.a.forwardRef((function(e,a){var t=e.classes,r=e.className,i=e.dividers,s=void 0!==i&&i,m=Object(c.a)(e,["classes","className","dividers"]);return l.a.createElement("div",Object(n.a)({className:Object(o.default)(t.root,r,s&&t.dividers),ref:a},m))}));a.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},1498:function(e,a,t){"use strict";var n=t(1),c=t(5),r=t(0),l=t.n(r),o=(t(2),t(3)),i=t(11),s=l.a.forwardRef((function(e,a){var t=e.disableSpacing,r=void 0!==t&&t,i=e.classes,s=e.className,m=Object(c.a)(e,["disableSpacing","classes","className"]);return l.a.createElement("div",Object(n.a)({className:Object(o.default)(i.root,s,!r&&i.spacing),ref:a},m))}));a.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},2813:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(1338),l=t(1309),o=t(15),i=t(6),s=t(247),m=t(18),u=t(201),d=t(1318),p=t(1343),f=t(658),E=t(325),C=t(53),N=t.n(C),h="[CONTACTS APP] GET USER DATA";function b(){var e=N.a.get("/api/contacts-app/user");return function(a){return e.then((function(e){return a({type:h,payload:e.data})}))}}var v="[CONTACTS APP] GET CONTACTS",T="[CONTACTS APP] SET SEARCH TEXT",O="[CONTACTS APP] DESELECT ALL CONTACTS";function A(e){var a=N.a.get("/api/contacts-app/contacts",{params:e});return function(t){return a.then((function(a){return t({type:v,payload:a.data,routeParams:e})}))}}function y(e){return function(a,t){var n=t().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/remove-contact",{contactId:e}).then((function(e){return Promise.all([a({type:"[CONTACTS APP] REMOVE CONTACT"})]).then((function(){return a(A(n))}))}))}}var g=t(441),P=t(1266),x=t(1310),j=t(1336),S=t(1311);var w=function(e){var a=Object(i.c)(),t=Object(i.d)((function(e){return e.contactsApp.contacts.selectedContactIds})),r=Object(n.useState)(null),o=Object(m.a)(r,2),s=o[0],u=o[1];function d(){u(null)}return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{className:"p-0","aria-owns":s?"selectedContactsMenu":null,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},c.a.createElement(l.a,null,"more_horiz")),c.a.createElement(g.a,{id:"selectedContactsMenu",anchorEl:s,open:Boolean(s),onClose:d},c.a.createElement(P.a,null,c.a.createElement(x.a,{onClick:function(){var e;a((e=t,function(a,t){var n=t().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/remove-contacts",{contactIds:e}).then((function(e){return Promise.all([a({type:"[CONTACTS APP] REMOVE CONTACTS"}),a({type:O})]).then((function(){return a(A(n))}))}))})),d()}},c.a.createElement(j.a,{className:"min-w-40"},c.a.createElement(l.a,null,"delete")),c.a.createElement(S.a,{primary:"Remove"})),c.a.createElement(x.a,{onClick:function(){var e;a((e=t,function(a,t){var n=t().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/set-contacts-starred",{contactIds:e}).then((function(e){return Promise.all([a({type:"[CONTACTS APP] SET CONTACTS STARRED "}),a({type:O}),a(b())]).then((function(){return a(A(n))}))}))})),d()}},c.a.createElement(j.a,{className:"min-w-40"},c.a.createElement(l.a,null,"star")),c.a.createElement(S.a,{primary:"Starred"})),c.a.createElement(x.a,{onClick:function(){var e;a((e=t,function(a,t){var n=t().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/set-contacts-unstarred",{contactIds:e}).then((function(e){return Promise.all([a({type:"[CONTACTS APP] SET CONTACTS STARRED "}),a({type:O}),a(b())]).then((function(){return a(A(n))}))}))})),d()}},c.a.createElement(j.a,{className:"min-w-40"},c.a.createElement(l.a,null,"star_border")),c.a.createElement(S.a,{primary:"Unstarred"})))))};var I=function(e){var a=Object(i.c)(),t=Object(i.d)((function(e){return e.contactsApp.contacts.entities})),r=Object(i.d)((function(e){return e.contactsApp.contacts.selectedContactIds})),s=Object(i.d)((function(e){return e.contactsApp.contacts.searchText})),C=Object(i.d)((function(e){return e.contactsApp.user})),h=Object(n.useState)(null),v=Object(m.a)(h,2),T=v[0],g=v[1];return Object(n.useEffect)((function(){t&&g(function(e,a){var t=Object.keys(e).map((function(a){return e[a]}));return 0===a.length?t:o.C.filterArrayByString(t,a)}(t,s))}),[t,s]),T?0===T.length?c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},c.a.createElement(u.a,{color:"textSecondary",variant:"h5"},"There are no contacts!")):c.a.createElement(o.d,{animation:"transition.slideUpIn",delay:300},c.a.createElement(E.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:function(e,t,n){return{className:"cursor-pointer",onClick:function(e,n){t&&a({type:"[CONTACTS APP] OPEN EDIT CONTACT DIALOG",data:t.original})}}},data:T,columns:[{Header:function(){return c.a.createElement(d.a,{onClick:function(e){e.stopPropagation()},onChange:function(e){e.target.checked?a({type:"[CONTACTS APP] SELECT ALL CONTACTS"}):a({type:O})},checked:r.length===Object.keys(t).length&&r.length>0,indeterminate:r.length!==Object.keys(t).length&&r.length>0})},accessor:"",Cell:function(e){return c.a.createElement(d.a,{onClick:function(e){e.stopPropagation()},checked:r.includes(e.value.id),onChange:function(){return a({type:"[CONTACTS APP] TOGGLE IN SELECTED CONTACTS",contactId:e.value.id})}})},className:"justify-center",sortable:!1,width:64},{Header:function(){return r.length>0&&c.a.createElement(w,null)},accessor:"avatar",Cell:function(e){return c.a.createElement(p.a,{className:"mx-8",alt:e.original.name,src:e.value})},className:"justify-center",width:64,sortable:!1},{Header:"First Name",accessor:"name",filterable:!0,className:"font-bold"},{Header:"Last Name",accessor:"lastName",filterable:!0,className:"font-bold"},{Header:"Company",accessor:"company",filterable:!0},{Header:"Job Title",accessor:"jobTitle",filterable:!0},{Header:"Email",accessor:"email",filterable:!0},{Header:"Phone",accessor:"phone",filterable:!0},{Header:"",width:128,Cell:function(e){return c.a.createElement("div",{className:"flex items-center"},c.a.createElement(f.a,{onClick:function(t){var n;t.stopPropagation(),a((n=e.original.id,function(e,a){var t=a().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/toggle-starred-contact",{contactId:n}).then((function(a){return Promise.all([e({type:"[CONTACTS APP] TOGGLE STARRED CONTACT"}),e(b())]).then((function(){return e(A(t))}))}))}))}},C.starred&&C.starred.includes(e.original.id)?c.a.createElement(l.a,null,"star"):c.a.createElement(l.a,null,"star_border")),c.a.createElement(f.a,{onClick:function(t){t.stopPropagation(),a(y(e.original.id))}},c.a.createElement(l.a,null,"delete")))}}],defaultPageSize:10,noDataText:"No contacts found"})):null},D=t(1319),L=t(202),k=t(442),W=t(1327);var G=function(e){var a=Object(i.c)(),t=Object(i.d)((function(e){return e.contactsApp.contacts.searchText})),n=Object(i.d)((function(e){return e.fuse.settings.mainTheme}));return c.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24"},c.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},c.a.createElement(D.a,{lgUp:!0},c.a.createElement(f.a,{onClick:function(a){e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},c.a.createElement(l.a,null,"menu"))),c.a.createElement("div",{className:"flex items-center"},c.a.createElement(o.d,{animation:"transition.expandIn",delay:300},c.a.createElement(l.a,{className:"text-32"},"account_box")),c.a.createElement(o.d,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(u.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Contacts")))),c.a.createElement("div",{className:"flex flex-1 items-center justify-center px-8 sm:px-12"},c.a.createElement(W.a,{theme:n},c.a.createElement(o.d,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(L.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4",elevation:1},c.a.createElement(l.a,{color:"action"},"search"),c.a.createElement(k.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a({type:T,searchText:e.target.value})}}))))))},R=t(1331),H=t(1267),B=t(1268),U=t(1275),F=Object(U.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var M=function(e){var a=Object(i.d)((function(e){return e.contactsApp.user})),t=F(e);return c.a.createElement("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4"},c.a.createElement(o.d,{animation:"transition.slideLeftIn",delay:200},c.a.createElement(L.a,{className:"rounded-0 shadow-none lg:rounded-8 lg:shadow-1"},c.a.createElement("div",{className:"p-24 flex items-center"},c.a.createElement(p.a,{alt:a.name,src:a.avatar}),c.a.createElement(u.a,{className:"mx-12"},a.name)),c.a.createElement(R.a,null),c.a.createElement(H.a,null,c.a.createElement(B.a,{button:!0,component:o.D,to:"/apps/contacts/all",activeClassName:"active",className:t.listItem},c.a.createElement(l.a,{className:"list-item-icon text-16",color:"action"},"people"),c.a.createElement(S.a,{className:"truncate",primary:"All contacts",disableTypography:!0})),c.a.createElement(B.a,{button:!0,component:o.D,to:"/apps/contacts/frequent",activeClassName:"active",className:t.listItem},c.a.createElement(l.a,{className:"list-item-icon text-16",color:"action"},"restore"),c.a.createElement(S.a,{className:"truncate",primary:"Frequently contacted",disableTypography:!0})),c.a.createElement(B.a,{button:!0,component:o.D,to:"/apps/contacts/starred",activeClassName:"active",className:t.listItem},c.a.createElement(l.a,{className:"list-item-icon text-16",color:"action"},"star"),c.a.createElement(S.a,{className:"truncate",primary:"Starred contacts",disableTypography:!0}))))))},_=t(9),J=t(1337),q=t(1334),z=t(1317),V=t(1487),X=t(1314),Y=t(1498),K=t(1316),Q=t(185),Z=t(250),$={id:"",name:"",lastName:"",avatar:"assets/images/avatars/profile.jpg",nickname:"",company:"",jobTitle:"",email:"",phone:"",address:"",birthday:"",notes:""};var ee=function(e){var a=Object(i.c)(),t=Object(i.d)((function(e){return e.contactsApp.contacts.contactDialog})),r=Object(Q.b)($),o=r.form,s=r.handleChange,m=r.setForm,d=Object(n.useCallback)((function(){"edit"===t.type&&t.data&&m(Object(_.a)({},t.data)),"new"===t.type&&m(Object(_.a)({},$,{},t.data,{id:Z.a.generateGUID()}))}),[t.data,t.type,m]);function E(){"edit"===t.type?a({type:"[CONTACTS APP] CLOSE EDIT CONTACT DIALOG"}):a({type:"[CONTACTS APP] CLOSE NEW CONTACT DIALOG"})}function C(){return o.name.length>0}function h(e){var n,c;e.preventDefault(),"new"===t.type?a((c=o,function(e,a){var t=a().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/add-contact",{newContact:c}).then((function(a){return Promise.all([e({type:"[CONTACTS APP] ADD CONTACT"})]).then((function(){return e(A(t))}))}))})):a((n=o,function(e,a){var t=a().contactsApp.contacts.routeParams;return N.a.post("/api/contacts-app/update-contact",{contact:n}).then((function(a){return Promise.all([e({type:"[CONTACTS APP] UPDATE CONTACT"})]).then((function(){return e(A(t))}))}))})),E()}return Object(n.useEffect)((function(){t.props.open&&d()}),[t.props.open,d]),c.a.createElement(J.a,Object.assign({classes:{paper:"m-24"}},t.props,{onClose:E,fullWidth:!0,maxWidth:"xs"}),c.a.createElement(q.a,{position:"static",elevation:1},c.a.createElement(z.a,{className:"flex w-full"},c.a.createElement(u.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"New Contact":"Edit Contact")),c.a.createElement("div",{className:"flex flex-col items-center justify-center pb-24"},c.a.createElement(p.a,{className:"w-96 h-96",alt:"contact avatar",src:o.avatar}),"edit"===t.type&&c.a.createElement(u.a,{variant:"h6",color:"inherit",className:"pt-8"},o.name))),c.a.createElement("form",{noValidate:!0,onSubmit:h,className:"flex flex-col md:overflow-hidden"},c.a.createElement(V.a,{classes:{root:"p-24"}},c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"account_circle")),c.a.createElement(X.a,{className:"mb-24",label:"Name",autoFocus:!0,id:"name",name:"name",value:o.name,onChange:s,variant:"outlined",required:!0,fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"}),c.a.createElement(X.a,{className:"mb-24",label:"Last name",id:"lastName",name:"lastName",value:o.lastName,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"star")),c.a.createElement(X.a,{className:"mb-24",label:"Nickname",id:"nickname",name:"nickname",value:o.nickname,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"phone")),c.a.createElement(X.a,{className:"mb-24",label:"Phone",id:"phone",name:"phone",value:o.phone,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"email")),c.a.createElement(X.a,{className:"mb-24",label:"Email",id:"email",name:"email",value:o.email,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"domain")),c.a.createElement(X.a,{className:"mb-24",label:"Company",id:"company",name:"company",value:o.company,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"work")),c.a.createElement(X.a,{className:"mb-24",label:"Job title",id:"jobTitle",name:"jobTitle",value:o.jobTitle,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"cake")),c.a.createElement(X.a,{className:"mb-24",id:"birthday",label:"Birthday",type:"date",value:o.birthday,onChange:s,InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"home")),c.a.createElement(X.a,{className:"mb-24",label:"Address",id:"address",name:"address",value:o.address,onChange:s,variant:"outlined",fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"min-w-48 pt-20"},c.a.createElement(l.a,{color:"action"},"note")),c.a.createElement(X.a,{className:"mb-24",label:"Notes",id:"notes",name:"notes",value:o.notes,onChange:s,variant:"outlined",multiline:!0,rows:5,fullWidth:!0}))),"new"===t.type?c.a.createElement(Y.a,{className:"justify-between p-8"},c.a.createElement("div",{className:"px-16"},c.a.createElement(K.a,{variant:"contained",color:"primary",onClick:h,type:"submit",disabled:!C()},"Add"))):c.a.createElement(Y.a,{className:"justify-between p-8"},c.a.createElement("div",{className:"px-16"},c.a.createElement(K.a,{variant:"contained",color:"primary",type:"submit",onClick:h,disabled:!C()},"Save")),c.a.createElement(f.a,{onClick:function(){a(y(o.id)),E()}},c.a.createElement(l.a,null,"delete")))))},ae=t(64),te=t(13),ne=t(10),ce={entities:null,searchText:"",selectedContactIds:[],routeParams:{},contactDialog:{type:"new",props:{open:!1},data:null}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return Object(_.a)({},e,{entities:ne.a.keyBy(a.payload,"id"),routeParams:a.routeParams});case T:return Object(_.a)({},e,{searchText:a.searchText});case"[CONTACTS APP] TOGGLE IN SELECTED CONTACTS":var t=a.contactId,n=Object(te.a)(e.selectedContactIds);return n=void 0!==n.find((function(e){return e===t}))?n.filter((function(e){return e!==t})):[].concat(Object(te.a)(n),[t]),Object(_.a)({},e,{selectedContactIds:n});case"[CONTACTS APP] SELECT ALL CONTACTS":var c=Object.keys(e.entities).map((function(a){return e.entities[a]})),r=c.map((function(e){return e.id}));return Object(_.a)({},e,{selectedContactIds:r});case O:return Object(_.a)({},e,{selectedContactIds:[]});case"[CONTACTS APP] OPEN NEW CONTACT DIALOG":return Object(_.a)({},e,{contactDialog:{type:"new",props:{open:!0},data:null}});case"[CONTACTS APP] CLOSE NEW CONTACT DIALOG":return Object(_.a)({},e,{contactDialog:{type:"new",props:{open:!1},data:null}});case"[CONTACTS APP] OPEN EDIT CONTACT DIALOG":return Object(_.a)({},e,{contactDialog:{type:"edit",props:{open:!0},data:a.data}});case"[CONTACTS APP] CLOSE EDIT CONTACT DIALOG":return Object(_.a)({},e,{contactDialog:{type:"edit",props:{open:!1},data:null}});default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return a.payload;default:return e}},oe=Object(ae.d)({contacts:re,user:le}),ie=Object(U.a)({addButton:{position:"absolute",right:12,bottom:12,zIndex:99}});a.default=Object(s.a)("contactsApp",oe)((function(e){var a=Object(i.c)(),t=ie(e),s=Object(n.useRef)(null);return Object(n.useEffect)((function(){a(A(e.match.params)),a(b())}),[a,e.match.params]),Object(n.useEffect)((function(){a(A(e.match.params))}),[a,e.match.params]),c.a.createElement(c.a.Fragment,null,c.a.createElement(o.t,{classes:{contentWrapper:"p-0 sm:p-24 pb-80 sm:pb-80 h-full",content:"flex flex-col h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:c.a.createElement(G,{pageLayout:s}),content:c.a.createElement(I,null),leftSidebarContent:c.a.createElement(M,null),sidebarInner:!0,ref:s,innerScroll:!0}),c.a.createElement(o.d,{animation:"transition.expandIn",delay:300},c.a.createElement(r.a,{color:"primary","aria-label":"add",className:t.addButton,onClick:function(e){return a({type:"[CONTACTS APP] OPEN NEW CONTACT DIALOG"})}},c.a.createElement(l.a,null,"person_add"))),c.a.createElement(ee,null))}))}}]);