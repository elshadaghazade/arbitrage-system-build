(this["webpackJsonparbitrage-react-app"]=this["webpackJsonparbitrage-react-app"]||[]).push([[100],{1487:function(e,t,a){"use strict";var n=a(1),r=a(5),l=a(0),o=a.n(l),c=(a(2),a(3)),i=a(11),s=o.a.forwardRef((function(e,t){var a=e.classes,l=e.className,i=e.dividers,s=void 0!==i&&i,d=Object(r.a)(e,["classes","className","dividers"]);return o.a.createElement("div",Object(n.a)({className:Object(c.default)(a.root,l,s&&a.dividers),ref:t},d))}));t.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},1498:function(e,t,a){"use strict";var n=a(1),r=a(5),l=a(0),o=a.n(l),c=(a(2),a(3)),i=a(11),s=o.a.forwardRef((function(e,t){var a=e.disableSpacing,l=void 0!==a&&a,i=e.classes,s=e.className,d=Object(r.a)(e,["disableSpacing","classes","className"]);return o.a.createElement("div",Object(n.a)({className:Object(c.default)(i.root,s,!l&&i.spacing),ref:t},d))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},2809:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),o=a(6),c=a(247),i=a(18),s=a(201),d=a(1267),u=a(10),m=a(1268),p=a(1318),f=a(658),E=a(1309),O=a(163),b=a(542),v=a(1275),h=a(3),y=a(9),D=a(53),g=a.n(D),T="[TODO APP] GET TODOS",j="[TODO APP] UPDATE TODO";function x(){return function(e,t){var a=t().todoApp.todos.routeParams;return g.a.get("/api/todo-app/todos",{params:a}).then((function(t){return e({type:"[TODO APP] UPDATE TODOS",payload:t.data})}))}}function N(e){var t=g.a.post("/api/todo-app/update-todo",e);return function(e){return t.then((function(t){Promise.all([e({type:j,payload:t.data})]).then((function(){return e(x())}))}))}}var P="[TODO APP] GET FOLDERS";var A="[TODO APP] GET LABELS";var C="[TODO APP] GET FILTERS";var S=Object(v.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var k=function(e){var t=S();return r.a.createElement("div",{className:Object(h.default)(t.root,e.className)},r.a.createElement("div",{className:t.color,style:{backgroundColor:e.color}}),r.a.createElement("div",null,e.title))},w=Object(v.a)({todoItem:{"&.completed":{background:"rgba(0,0,0,0.03)","& .todo-title, & .todo-notes":{textDecoration:"line-through"}}}});var L=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.todoApp.labels})),n=w(e);return r.a.createElement(m.a,{className:Object(h.default)(n.todoItem,{completed:e.todo.completed},"border-solid border-b-1 py-16 px-0 sm:px-8"),onClick:function(a){a.preventDefault(),t({type:"[TODO APP] OPEN EDIT TODO DIALOG",data:e.todo})},dense:!0,button:!0},r.a.createElement(p.a,{tabIndex:-1,disableRipple:!0,checked:e.todo.completed,onChange:function(){return t(function(e){var t=Object(y.a)({},e,{completed:!e.completed});return function(e){return Promise.all([e({type:"[TODO APP] TOGGLE COMPLETED"})]).then((function(){return e(N(t))}))}}(e.todo))},onClick:function(e){return e.stopPropagation()}}),r.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden px-8"},r.a.createElement(s.a,{variant:"subtitle1",className:"todo-title truncate",color:e.todo.completed?"textSecondary":"inherit"},e.todo.title),r.a.createElement(s.a,{color:"textSecondary",className:"todo-notes truncate"},u.a.truncate(e.todo.notes.replace(/<(?:.|\n)*?>/gm,""),{length:180})),r.a.createElement("div",{className:Object(h.default)(n.labels,"flex -mx-2")},e.todo.labels.map((function(e){return r.a.createElement(k,{className:"mx-2 mt-4",title:u.a.find(a,{id:e}).title,color:u.a.find(a,{id:e}).color,key:e})})))),r.a.createElement("div",{className:"px-8"},r.a.createElement(f.a,{onClick:function(a){a.preventDefault(),a.stopPropagation(),t(function(e){var t=Object(y.a)({},e,{important:!e.important});return function(e){return Promise.all([e({type:"[TODO APP] TOGGLE IMPORTANT"})]).then((function(){return e(N(t))}))}}(e.todo))}},e.todo.important?r.a.createElement(E.a,{style:{color:O.a[500]}},"error"):r.a.createElement(E.a,null,"error_outline")),r.a.createElement(f.a,{onClick:function(a){a.preventDefault(),a.stopPropagation(),t(function(e){var t=Object(y.a)({},e,{starred:!e.starred});return function(e){return Promise.all([e({type:"[TODO APP] TOGGLE STARRED"})]).then((function(){return e(N(t))}))}}(e.todo))}},e.todo.starred?r.a.createElement(E.a,{style:{color:b.a[500]}},"star"):r.a.createElement(E.a,null,"star_outline"))))};var I=function(e){var t=Object(o.d)((function(e){return e.todoApp.todos.entities})),a=Object(o.d)((function(e){return e.todoApp.todos.searchText})),c=Object(o.d)((function(e){return e.todoApp.todos.orderBy})),m=Object(o.d)((function(e){return e.todoApp.todos.orderDescending})),p=Object(n.useState)(null),f=Object(i.a)(p,2),E=f[0],O=f[1];return Object(n.useEffect)((function(){t&&O(u.a.orderBy(function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:l.C.filterArrayByString(a,t)}(t,a),[c],[m?"desc":"asc"]))}),[t,a,c,m]),E?0===E.length?r.a.createElement(l.d,{delay:100},r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"There are no todos!"))):r.a.createElement(d.a,{className:"p-0"},r.a.createElement(l.e,{enter:{animation:"transition.slideUpBigIn"}},E.map((function(e){return r.a.createElement(L,{todo:e,key:e.id})})))):null},G=a(650),R=a(661),B=a(1310);var _=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.todoApp.todos.orderBy})),n=Object(o.d)((function(e){return e.todoApp.todos.orderDescending}));return r.a.createElement("div",{className:"flex justify-between w-full"},r.a.createElement("div",{className:"flex"}),r.a.createElement("div",{className:"flex items-center"},r.a.createElement(G.a,{className:""},r.a.createElement(R.a,{value:a,onChange:function(e){t(function(e){return{type:"[TODO APP] CHANGE ORDER",orderBy:e}}(e.target.value))},displayEmpty:!0,name:"filter",className:""},r.a.createElement(B.a,{value:""},r.a.createElement("em",null,"Order by")),r.a.createElement(B.a,{value:"startDate"},"Start Date"),r.a.createElement(B.a,{value:"dueDate"},"Due Date"),r.a.createElement(B.a,{value:"title"},"Title"))),r.a.createElement(f.a,{onClick:function(e){return t({type:"[TODO APP] TOGGLE ORDER DESCENDING"})}},r.a.createElement(E.a,{style:{transform:n?"scaleY(-1)":"scaleY(1)"}},"sort"))))},M=a(202),W=a(1319),U=a(442),F=a(1327);var H=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.todoApp.todos.searchText})),n=Object(o.d)((function(e){return e.fuse.settings.mainTheme}));return r.a.createElement(F.a,{theme:n},r.a.createElement("div",{className:"flex flex-1"},r.a.createElement(M.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8",elevation:1},r.a.createElement(W.a,{lgUp:!0},r.a.createElement(f.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},r.a.createElement(E.a,null,"menu"))),r.a.createElement(E.a,{color:"action"},"search"),r.a.createElement(U.a,{placeholder:"Search",className:"px-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t({type:"[TODO APP] SET SEARCH TEXT",searchText:e.target.value.toLowerCase()})}}))))},q=a(1314),Y={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var z=function(){var e=Object(n.useState)("creapond"),t=Object(i.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},r.a.createElement("div",{className:"flex items-center flex-1"},r.a.createElement(l.d,{animation:"transition.expandIn",delay:300},r.a.createElement(E.a,{className:"text-32"},"check_box")),r.a.createElement(l.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement("span",{className:"text-24 mx-16"},"To-Do"))),r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(q.a,{id:"account-selection",select:!0,label:a,value:a,onChange:function(e){o(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys(Y).map((function(e,t){return r.a.createElement(B.a,{key:e,value:e},Y[e])})))))},J=a(1316),X=a(1311),K=a(1328),V=Object(v.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var Q=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.todoApp.labels})),n=Object(o.d)((function(e){return e.todoApp.folders})),c=Object(o.d)((function(e){return e.todoApp.filters})),i=V(e);return r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:400},r.a.createElement("div",{className:"flex-auto border-l-1 border-solid"},r.a.createElement("div",{className:"p-24"},r.a.createElement(J.a,{onClick:function(){t({type:"[TODO APP] OPEN NEW TODO DIALOG"})},variant:"contained",color:"primary",className:"w-full"},"ADD TASK")),r.a.createElement("div",{className:i.listWrapper},r.a.createElement(d.a,null,n.length>0&&n.map((function(e){return r.a.createElement(m.a,{button:!0,component:l.D,to:"/apps/todo/"+e.handle,key:e.id,activeClassName:"active",className:i.listItem},r.a.createElement(E.a,{className:"list-item-icon",color:"action"},e.icon),r.a.createElement(X.a,{primary:e.title,disableTypography:!0}))}))),r.a.createElement(d.a,null,r.a.createElement(K.a,{className:i.listSubheader,disableSticky:!0},"FILTERS"),c.length>0&&c.map((function(e){return r.a.createElement(m.a,{button:!0,component:l.D,to:"/apps/todo/filter/"+e.handle,activeClassName:"active",className:i.listItem,key:e.id},r.a.createElement(E.a,{className:"list-item-icon",color:"action"},e.icon),r.a.createElement(X.a,{primary:e.title,disableTypography:!0}))}))),r.a.createElement(d.a,null,r.a.createElement(K.a,{className:i.listSubheader,disableSticky:!0},"LABELS"),a.length>0&&a.map((function(e){return r.a.createElement(m.a,{button:!0,component:l.D,to:"/apps/todo/label/"+e.handle,key:e.id,className:i.listItem},r.a.createElement(E.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),r.a.createElement(X.a,{primary:e.title,disableTypography:!0}))}))))))},Z=a(13),$=a(1337),ee=a(1334),te=a(1317),ae=a(1487),ne=a(441),re=a(1336),le=a(1331),oe=a(1320),ce=a(1343),ie=a(1498),se=a(185),de=a(89),ue=a.n(de),me={id:"",title:"",notes:"",startDate:new Date,dueDate:new Date,completed:!1,starred:!1,important:!1,deleted:!1,labels:[]};var pe=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.todoApp.todos.todoDialog})),c=Object(o.d)((function(e){return e.todoApp.labels})),d=Object(n.useState)(null),m=Object(i.a)(d,2),v=m[0],h=m[1],D=Object(se.b)(Object(y.a)({},me)),T=D.form,j=D.handleChange,P=D.setForm,A=ue()(T.startDate).format(ue.a.HTML5_FMT.DATETIME_LOCAL_SECONDS),C=ue()(T.dueDate).format(ue.a.HTML5_FMT.DATETIME_LOCAL_SECONDS),S=Object(n.useCallback)((function(){"edit"===a.type&&a.data&&P(Object(y.a)({},a.data)),"new"===a.type&&P(Object(y.a)({},me,{},a.data,{id:l.C.generateGUID()}))}),[a.data,a.type,P]);function k(){"edit"===a.type?t({type:"[TODO APP] CLOSE EDIT TODO DIALOG"}):t({type:"[TODO APP] CLOSE NEW TODO DIALOG"})}function w(e,t){e.stopPropagation(),P(u.a.set(Object(y.a)({},T,{labels:T.labels.includes(t)?T.labels.filter((function(e){return e!==t})):[].concat(Object(Z.a)(T.labels),[t])})))}function L(){return T.title.length>0}return Object(n.useEffect)((function(){a.props.open&&S()}),[a.props.open,S]),r.a.createElement($.a,Object.assign({},a.props,{onClose:k,fullWidth:!0,maxWidth:"sm"}),r.a.createElement(ee.a,{position:"static",elevation:1},r.a.createElement(te.a,{className:"flex w-full"},r.a.createElement(s.a,{variant:"subtitle1",color:"inherit"},"new"===a.type?"New Todo":"Edit Todo"))),r.a.createElement(ae.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"mb-16"},r.a.createElement("div",{className:"flex items-center justify-between p-12"},r.a.createElement("div",{className:"flex"},r.a.createElement(p.a,{tabIndex:-1,checked:T.completed,onChange:function(){P(Object(y.a)({},T,{completed:!T.completed}))},onClick:function(e){return e.stopPropagation()}})),r.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},r.a.createElement(f.a,{onClick:function(){P(Object(y.a)({},T,{important:!T.important}))}},T.important?r.a.createElement(E.a,{style:{color:O.a[500]}},"error"):r.a.createElement(E.a,null,"error_outline")),r.a.createElement(f.a,{onClick:function(){P(Object(y.a)({},T,{starred:!T.starred}))}},T.starred?r.a.createElement(E.a,{style:{color:b.a[500]}},"star"):r.a.createElement(E.a,null,"star_outline")),r.a.createElement("div",null,r.a.createElement(f.a,{"aria-owns":v?"label-menu":null,"aria-haspopup":"true",onClick:function(e){h(e.currentTarget)}},r.a.createElement(E.a,null,"label")),r.a.createElement(ne.a,{id:"label-menu",anchorEl:v,open:Boolean(v),onClose:function(e){h(null)}},c.length>0&&c.map((function(e){return r.a.createElement(B.a,{onClick:function(t){return w(t,e.id)},key:e.id},r.a.createElement(re.a,{className:"min-w-24"},r.a.createElement(E.a,{color:"action"},T.labels.includes(e.id)?"check_box":"check_box_outline_blank")),r.a.createElement(X.a,{className:"mx-8",primary:e.title,disableTypography:!0}),r.a.createElement(re.a,{className:"min-w-24"},r.a.createElement(E.a,{style:{color:e.color},color:"action"},"label")))})))))),r.a.createElement(le.a,{className:"mx-24"})),T.labels.length>0&&r.a.createElement("div",{className:"flex flex-wrap w-full px-12 sm:px-20 mb-16"},T.labels.map((function(e){return r.a.createElement(oe.a,{avatar:r.a.createElement(ce.a,{classes:{colorDefault:"bg-transparent"}},r.a.createElement(E.a,{className:"text-20",style:{color:u.a.find(c,{id:e}).color}},"label")),label:u.a.find(c,{id:e}).title,onDelete:function(t){return w(t,e)},className:"mx-4 my-4",classes:{label:"px-8"},key:e})}))),r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(G.a,{className:"mt-8 mb-16",required:!0,fullWidth:!0},r.a.createElement(q.a,{label:"Title",autoFocus:!0,name:"title",value:T.title,onChange:j,required:!0,variant:"outlined"})),r.a.createElement(G.a,{className:"mt-8 mb-16",required:!0,fullWidth:!0},r.a.createElement(q.a,{label:"Notes",name:"notes",multiline:!0,rows:"6",value:T.notes,onChange:j,variant:"outlined"})),r.a.createElement("div",{className:"flex -mx-4"},r.a.createElement(q.a,{name:"startDate",label:"Start Date",type:"datetime-local",className:"mt-8 mb-16 mx-4",InputLabelProps:{shrink:!0},inputProps:{max:C},value:A,onChange:j,variant:"outlined"}),r.a.createElement(q.a,{name:"dueDate",label:"Due Date",type:"datetime-local",className:"mt-8 mb-16 mx-4",InputLabelProps:{shrink:!0},inputProps:{min:A},value:C,onChange:j,variant:"outlined"})))),"new"===a.type?r.a.createElement(ie.a,{className:"justify-between p-8"},r.a.createElement("div",{className:"px-16"},r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){t(function(e){var t=g.a.post("/api/todo-app/new-todo",e);return function(e){return t.then((function(t){return Promise.all([e({type:"[TODO APP] ADD TODO"})]).then((function(){return e(x())}))}))}}(T)),k()},disabled:!L()},"Add"))):r.a.createElement(ie.a,{className:"justify-between p-8"},r.a.createElement("div",{className:"px-16"},r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){t(N(T)),k()},disabled:!L()},"Save")),r.a.createElement(f.a,{className:"min-w-auto",onClick:function(){t(function(e){var t=g.a.post("/api/todo-app/remove-todo",e);return function(e){return t.then((function(t){return Promise.all([e({type:"[TODO APP] REMOVE TODO"})]).then((function(){return e(x())}))}))}}(T.id)),k()}},r.a.createElement(E.a,null,"delete"))))},fe=a(64),Ee=a(31),Oe={entities:[],searchText:"",orderBy:"",orderDescending:!1,routeParams:{},todoDialog:{type:"new",props:{open:!1},data:null}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(y.a)({},e,{entities:u.a.keyBy(t.payload,"id"),searchText:"",routeParams:t.routeParams});case"[TODO APP] UPDATE TODOS":return Object(y.a)({},e,{entities:u.a.keyBy(t.payload,"id")});case"[TODO APP] OPEN NEW TODO DIALOG":return Object(y.a)({},e,{todoDialog:{type:"new",props:{open:!0},data:null}});case"[TODO APP] CLOSE NEW TODO DIALOG":return Object(y.a)({},e,{todoDialog:{type:"new",props:{open:!1},data:null}});case"[TODO APP] OPEN EDIT TODO DIALOG":return Object(y.a)({},e,{todoDialog:{type:"edit",props:{open:!0},data:t.data}});case"[TODO APP] CLOSE EDIT TODO DIALOG":return Object(y.a)({},e,{todoDialog:{type:"edit",props:{open:!1},data:null}});case j:var a=t.payload;return Object(y.a)({},e,{entities:Object(y.a)({},e.entities,Object(Ee.a)({},a.id,Object(y.a)({},a)))});case"[TODO APP] SET SEARCH TEXT":return Object(y.a)({},e,{searchText:t.searchText});case"[TODO APP] TOGGLE ORDER DESCENDING":return Object(y.a)({},e,{orderDescending:!e.orderDescending});case"[TODO APP] CHANGE ORDER":return Object(y.a)({},e,{orderBy:t.orderBy});default:return e}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(Z.a)(t.payload);default:return e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(Z.a)(t.payload);default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(Z.a)(t.payload);default:return e}},De=Object(fe.d)({todos:be,folders:ve,labels:he,filters:ye});t.default=Object(c.a)("todoApp",De)((function(e){var t=Object(o.c)(),a=Object(n.useRef)(null);return Object(n.useEffect)((function(){t(function(){var e=g.a.get("/api/todo-app/filters");return function(t){return e.then((function(e){return t({type:C,payload:e.data})}))}}()),t(function(){var e=g.a.get("/api/todo-app/folders");return function(t){return e.then((function(e){return t({type:P,payload:e.data})}))}}()),t(function(){var e=g.a.get("/api/todo-app/labels");return function(t){return e.then((function(e){return t({type:A,payload:e.data})}))}}())}),[t]),Object(n.useEffect)((function(){t(function(e){var t=g.a.get("/api/todo-app/todos",{params:e});return function(a){return t.then((function(t){return a({type:T,routeParams:e,payload:t.data})}))}}(e.match.params))}),[t,e.match.params]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.s,{classes:{root:"w-full",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(H,{pageLayout:a}),contentToolbar:r.a.createElement(_,null),content:r.a.createElement(I,null),leftSidebarHeader:r.a.createElement(z,null),leftSidebarContent:r.a.createElement(Q,null),ref:a,innerScroll:!0}),r.a.createElement(pe,null))}))}}]);